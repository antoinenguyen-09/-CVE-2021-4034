FROM ubuntu:focal
RUN apt update

RUN apt-get install -y gcc make

RUN apt-get install -y libpolkit-gobject-1-0=0.105-26ubuntu1
RUN apt-get install -y libpolkit-agent-1-0=0.105-26ubuntu1
RUN apt-get install -y policykit-1=0.105-26ubuntu1

RUN useradd -ms /bin/bash hoangnch
USER hoangnch

RUN mkdir /home/hoangnch/pwnkit
COPY conversion-mod.c Makefile pwnkit.c /home/hoangnchpwnkit/
WORKDIR /home/hoangnch/pwnkit
